<!DOCTYPE HTML>
<html>
  <head>


<!--<link rel="shortcut icon" href="https://primotron.000webhostapp.com/myicon.ico">-->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Prime number checker">
    <meta name="keywords" content="prime,number,checker,probable,primality,test">
    <title>Prime Number Checker</title>
    <script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script>
    <script>$(function () {
    // Make the div with id 'mycell' a Sage cell
    // sagecell.makeSagecell({inputLocation:  '#mycell',
                           // template:       sagecell.templates.minimal,
                           //evalButtonText: 'Activate'});
    // Make *any* div with class 'compute' a Sage cell
    sagecell.makeSagecell({inputLocation: 'div.compute',
                           evalButtonText: 'Activate' ,
                           hide: ['editor','permalink']});
    });
    </script>
  </head>
  <body bgcolor=E7E7EF>
  <h1 style="text-align:center;font-family:Comic Sans MS, cursive, sans-serif">Prime Number Checker</h1>

<BR>
<p style="text-align:center;font-family:Comic Sans MS, cursive, sans-serif;font-size:110%">
<a href="https://primus-lab.github.io/index.html">&nbsp; Home &nbsp; &nbsp;</a> 
<a href="https://primus-lab.github.io/primotron.html">&nbsp; Prime Number Checker &nbsp; &nbsp;</a> 
<a href="https://primus-lab.github.io/numeromatic.html">&nbsp; Number Theory Calculator &nbsp; &nbsp;</a> 
<a href="https://primus-lab.github.io/primus.html">&nbsp; Theorems & Conjectures &nbsp; &nbsp;</a>
</p>
<BR>
 
<ul style="font-family:Comic Sans MS, cursive, sans-serif">
  <li>A probabilistic primality test is based on  <a href="https://math.stackexchange.com/q/3436623" style="text-decoration: none" target="_blank">this post.</a></li>
  <li>A conjectured deterministic primality test is based on  <a href="https://mathoverflow.net/questions/286304/chebyshev-polynomials-of-the-first-kind-and-primality-testing" style="text-decoration: none" target="_blank">this post.</a></li>
  <li>You can use operators: +,-,*,/,^ and parentheses to enter a number of special form.</li>
</ul>

<br>
<p style="text-align:left;font-family:Comic Sans MS, cursive, sans-serif;font-size:110%">Probabilistic Test</p>
    
    <div class="compute"><script type="text/x-sage">
gp.eval("xmat(n,b,a) = {[2*a, b; 1, 0]*Mod(1,n)}")
gp.eval("myisprime(n,b,a)={my(xp = xmat(n,b,a)^n*[a,1]~);xp[2] == a*Mod(1,n);}")
gp.eval("pseudoprime(n,k)={j=0;for(i=1,k,b=-100+random(201);a=2+random(n-3);if(!(myisprime(n,b,a)),j++;break));return(j)}")
def Check(n,k):
    if n<2:
        return ("Number must be greater than one!")
    elif n==4:
        return ("Composite!")
    elif n==2 or n==3 or gp.function_call("pseudoprime",[n,k]).sage()==0:
        return ("Probably prime!")
    else:
        return ("Composite!")
@interact
def _(n=input_box(2011,'Number:',width=135),k=slider(1,100,1,default=3,label='Accuracy:'),action=selector(['Check'],buttons=True,label='')):
    action = eval(action) 
    show (action(n,k))
</script></div>
	
<br>
<p style="text-align:left;font-family:Comic Sans MS, cursive, sans-serif;font-size:110%">Conjectured Deterministic Test</p>
    
    <div class="compute"><script type="text/x-sage">
gp.eval("xmat(r,n) = [2*x, -1; 1, 0]*Mod(1,x^r-1)*Mod(1,n);")
gp.eval("smallestr(n)={if(n==1 || n%2==0, return(0));forprime(r = 3, oo,my(u=n%r);if (u==0 && r < n, return(0));if (u!=0 && u!=1 && u!=r-1, return(r)));}")
gp.eval("myisprime(n)={my(r = smallestr(n));if (r == 0, return(n == 2));my(xp = xmat(r,n)^n*[x,1]~);xp[2] == Mod(x*Mod(1,n),x^r-1)^n;}")

def Check(n):
    if n<2:
        return ("Number must be greater than one!")
    elif gp.function_call("myisprime",[n]).sage()==true:
        return ("Prime!")
    else:
        return ("Composite!")
@interact
def _(n=input_box(2017,width=135,label='Number:'),action=selector(['Check'],buttons=True,label='')):  
    action = eval(action)  
    show (action(n))
</script></div>
<br><br><br><br><br><br><br><br><br>
<p style="text-align:left;font-family:Comic Sans MS, cursive, sans-serif" >Page by Pedja Terzic &lt; firstname.lastname[at]hotmail.com &gt;</p>
  </body>
</html>
